{"ast":null,"code":"var _jsxFileName = \"D:\\\\UUL+CLOUD\\\\bkpsdm\\\\belajarReactJS\\\\BelajarCloneGithub\\\\SIAGA\\\\src\\\\components\\\\PanelArsip.js\";\nimport React, { Component } from 'react';\nimport \"react-web-tabs/dist/react-web-tabs.css\";\nimport { Badge, Button, Col, FormControl, FormGroup, FormLabel, Modal, Row } from \"react-bootstrap\";\nimport Form from \"react-bootstrap/Form\";\nvar bonsai_url = \"https://f6CbqkpuHw:CEHybx3Y2vTfsgGzo8Sw@sans-itb-7152476607.ap-southeast-2.bonsaisearch.net:443\";\n\nvar elasticsearch = require('elasticsearch');\n\nvar client = new elasticsearch.Client({\n  host: bonsai_url\n}); // client.ping({\n//     // ping usually has a 3000ms timeout\n//     requestTimeout: 1000\n//     }, function (error) {\n//     if (error) {\n//         console.trace('elasticsearch cluster is down!');\n//     } else {\n//         console.log('All is well');\n//     }\n// });\n\nconst arrayFields = ['klasifikasi_arsip'];\nexport default class PanelArsip extends Component {\n  constructor(props) {\n    super(props);\n    var d = new Date();\n    var s = d.toISOString().split('T')[0];\n    this.state = {\n      show: false,\n      newArsip: {\n        \"hak_akses\": \"umum\",\n        \"image_URL\": \"\",\n        \"klasifikasi_arsip\": [\"Mahasiswa\", \"Pendidikan\"],\n        \"kode_arsip\": \"AK/OA.AE.04/58\",\n        \"media_URL\": \"\",\n        \"tipe_file\": \"video\",\n        \"title\": \"\",\n        \"uploaded_on\": s\n      },\n      newField: '',\n      newDetail: [],\n      data: []\n    };\n    this.handleClose = this.handleClose.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleNewFieldChange = this.handleNewFieldChange.bind(this);\n    this.handleAddField = this.handleAddField.bind(this);\n    this.handleDeleteField = this.handleDeleteField.bind(this);\n    this.handleExtraFieldChange = this.handleExtraFieldChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this); // this.getFileExtension = this.getFileExtension.bind(this);\n    // this.formatFileSize = this.formatFileSize.bind(this);\n    // this.changeLabel = this.changeLabel.bind(this);\n    // var self = this;\n    // client.search({\n    //     index: 'arsip'\n    // }) \n    // .then(function (res) {\n    //     console.log(res)\n    //     var results = res.hits.hits;\n    //     var buffer = [];\n    //     buffer = results.map(\n    //         function(content, index) {\n    //             return {id:content._id, \n    //                 nama: content._source.title, \n    //                 namafile: content._source.file_name, \n    //                 kodearsip: content._source.kode_arsip,\n    //                 deskripsi: content._source.topik,\n    //                 lokasisimpan: content._source.lokasi_penyimpanan,\n    //                 ukuranfile: content._source.ukuranfile,\n    //                 formatfile: content._source.formatfile,\n    //                 rank: content._source.hak_akses};\n    //         }\n    //     )\n    //     self.setState({data: buffer})\n    // }, function(err) {\n    //     console.log(err)\n    // })\n  }\n\n  handleShow() {\n    if (this.state.show === false) {\n      this.setState({\n        show: false,\n        nama: \"\",\n        namafile: \"\",\n        kodearsip: \"\",\n        deskripsi: \"\",\n        lokasisimpan: \"\",\n        ukuranfile: \"\",\n        formatfile: \"\",\n        rank: \"terbuka\"\n      });\n    }\n\n    this.setState({\n      show: true\n    });\n    console.log(\"show modal\");\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n    console.log(\"hide modal\");\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    var value = target.value;\n    const name = target.name;\n\n    if (document.getElementById(\"kode_arsip\").value == null || document.getElementById(\"kode_arsip\").value == \"\" || document.getElementById(\"title\").value == null || document.getElementById(\"title\").value == \"\") {\n      document.getElementById(\"confirm-button\").disabled = true;\n    } else {\n      document.getElementById(\"confirm-button\").disabled = false;\n    }\n\n    if (arrayFields.includes(name)) {\n      value = value.split(',');\n      var x;\n\n      for (x in value) {\n        value[x] = value[x].trim();\n      }\n    }\n\n    var newArsip = this.state.newArsip;\n    newArsip[name] = value;\n    this.setState({\n      newArsip: newArsip\n    });\n  }\n\n  handleSubmit() {\n    if (document.getElementById(\"confirm-button\").disabled != true) {\n      this.setState({\n        show: false\n      });\n      var newArsip = this.state.newArsip;\n      var newDetail = this.state.newDetail;\n      var x;\n\n      for (x in newDetail) {\n        newArsip[newDetail[x][0]] = newDetail[x][1];\n      }\n\n      client.index({\n        index: 'arsip',\n        body: newArsip\n      }, function (err, resp, status) {\n        console.log(resp);\n        window.location.reload();\n      });\n      console.log(\"submit\");\n    }\n  } // getFileExtension(filename) {\n  //     return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\n  // }\n  // formatFileSize(bytes, decimalPoint) {\n  //     if (bytes == 0) return '0 Bytes';\n  //     var k = 1024,\n  //         dm = decimalPoint || 2,\n  //         sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n  //         i = Math.floor(Math.log(bytes) / Math.log(k));\n  //     return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n  // }\n  // changeLabel() {\n  //     var name = document.getElementById('customFile');\n  //     if (name.files.item(0) != null) {\n  //         this.setState({ file_name: name.files.item(0).name });\n  //         this.setState({ ukuranfile: this.formatFileSize(name.files.item(0).size) });\n  //         this.setState({ formatfile: this.getFileExtension(name.files.item(0).name) });\n  //         document.getElementById('file_name').innerHTML = name.files.item(0).name;\n  //     } else {\n  //         this.setState({ file_name: \"\" });\n  //         this.setState({ ukuranfile: \"\" });\n  //         this.setState({ fomatfile: \"\" });\n  //         document.getElementById('file_name').innerHTML = \"Choose file\";\n  //     }\n  // }\n\n\n  handleExtraFieldChange(event) {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    const id = target.id.split(':')[1];\n    console.log(target);\n    console.log(\"changing index: \" + id + \"w/ value:\" + [name, value]);\n    var newDetail = this.state.newDetail;\n    newDetail[id] = [name, value];\n    this.setState({\n      newDetail: newDetail\n    });\n  }\n\n  handleNewFieldChange(event) {\n    const target = event.target;\n    const value = target.value;\n    this.setState({\n      newField: value\n    });\n  }\n\n  handleAddField(event) {\n    var newDetail = this.state.newDetail;\n\n    if (this.state.newField !== '') {\n      newDetail.push([this.state.newField, '']);\n    }\n\n    this.setState({\n      newDetail: newDetail,\n      newField: ''\n    });\n  }\n\n  handleDeleteField(event) {\n    const target = event.target;\n    const name = target.name;\n    var newDetail = this.state.newDetail;\n    newDetail.splice(name, 1);\n    this.setState({\n      newDetail: newDetail\n    });\n  }\n\n  render() {\n    const data = this.state.data;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-arsip p-5 w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      size: \"lg\",\n      block: true,\n      id: \"add-arsip-button\",\n      onClick: this.handleShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, \"+ Tambah Arsip\"), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      size: \"lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }, \"Tambah Arsip\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      column: true,\n      sm: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 33\n      }\n    }, \"Kode Arsip : \", /*#__PURE__*/React.createElement(Badge, {\n      pill: true,\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 71\n      }\n    }, \"required\")), /*#__PURE__*/React.createElement(Col, {\n      sm: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      name: \"kode_arsip\",\n      id: \"kode_arsip\",\n      type: \"text\",\n      placeholder: this.state.newArsip.kode_arsip,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      column: true,\n      sm: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 33\n      }\n    }, \"Judul Arsip : \", /*#__PURE__*/React.createElement(Badge, {\n      pill: true,\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 72\n      }\n    }, \"required\")), /*#__PURE__*/React.createElement(Col, {\n      sm: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      name: \"title\",\n      id: \"title\",\n      type: \"text\",\n      placeholder: this.state.newArsip.title,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      column: true,\n      sm: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 33\n      }\n    }, \"Hak Akses : \", /*#__PURE__*/React.createElement(Badge, {\n      pill: true,\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 70\n      }\n    }, \"required\")), /*#__PURE__*/React.createElement(Col, {\n      sm: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      as: \"select\",\n      name: \"hak_akses\",\n      value: this.state.newArsip.hak_akses,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"umum\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 41\n      }\n    }, \"Umum\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"tinggi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 41\n      }\n    }, \"Tinggi\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"tertinggi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 41\n      }\n    }, \"Tertinggi\")))), /*#__PURE__*/React.createElement(FormGroup, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      column: true,\n      sm: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 33\n      }\n    }, \"Klasifikasi : \"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      name: \"klasifikasi_arsip\",\n      type: \"text\",\n      placeholder: this.state.newArsip.klasifikasi_arsip,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      column: true,\n      sm: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 33\n      }\n    }, \"Tipe Arsip : \", /*#__PURE__*/React.createElement(Badge, {\n      pill: true,\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 71\n      }\n    }, \"required\")), /*#__PURE__*/React.createElement(Col, {\n      sm: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      as: \"select\",\n      name: \"tipe_file\",\n      value: this.state.newArsip.tipe_file,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"teks\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 41\n      }\n    }, \"Teks\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"video\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 41\n      }\n    }, \"Video\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"audio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 41\n      }\n    }, \"Audio\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"gambar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 41\n      }\n    }, \"Gambar\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"lainnya\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 41\n      }\n    }, \"Lainnya\")))), this.state.newDetail.map((content, index) => /*#__PURE__*/React.createElement(FormGroup, {\n      as: Row,\n      className: \"mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      column: true,\n      sm: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 41\n      }\n    }, content[0], \" : \"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"no:\" + index,\n      name: content[0],\n      type: \"text\",\n      value: content[1],\n      onChange: this.handleExtraFieldChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      name: index,\n      onClick: this.handleDeleteField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 41\n      }\n    }, \"Delete\"))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      as: Row,\n      className: \"mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"newField\",\n      name: \"newField\",\n      type: \"text\",\n      value: this.state.newField,\n      onChange: this.handleNewFieldChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.handleAddField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 29\n      }\n    }, \"Add Field\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 25\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"confirm-button\",\n      variant: \"primary\",\n      onLoad: this.handleChange,\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 25\n      }\n    }, \"Confirm\"))));\n  }\n\n}","map":{"version":3,"sources":["D:/UUL+CLOUD/bkpsdm/belajarReactJS/BelajarCloneGithub/SIAGA/src/components/PanelArsip.js"],"names":["React","Component","Badge","Button","Col","FormControl","FormGroup","FormLabel","Modal","Row","Form","bonsai_url","elasticsearch","require","client","Client","host","arrayFields","PanelArsip","constructor","props","d","Date","s","toISOString","split","state","show","newArsip","newField","newDetail","data","handleClose","bind","handleShow","handleChange","handleNewFieldChange","handleAddField","handleDeleteField","handleExtraFieldChange","handleSubmit","setState","nama","namafile","kodearsip","deskripsi","lokasisimpan","ukuranfile","formatfile","rank","console","log","event","target","value","name","document","getElementById","disabled","includes","x","trim","index","body","err","resp","status","window","location","reload","id","push","splice","render","kode_arsip","title","hak_akses","klasifikasi_arsip","tipe_file","map","content"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport \"react-web-tabs/dist/react-web-tabs.css\";\nimport {Badge, Button, Col, FormControl, FormGroup, FormLabel, Modal, Row} from \"react-bootstrap\";\nimport Form from \"react-bootstrap/Form\";\n\nvar bonsai_url = \"https://f6CbqkpuHw:CEHybx3Y2vTfsgGzo8Sw@sans-itb-7152476607.ap-southeast-2.bonsaisearch.net:443\";\nvar elasticsearch = require('elasticsearch');\nvar client = new elasticsearch.Client({\n    host: bonsai_url\n});\n\n// client.ping({\n//     // ping usually has a 3000ms timeout\n//     requestTimeout: 1000\n//     }, function (error) {\n//     if (error) {\n//         console.trace('elasticsearch cluster is down!');\n//     } else {\n//         console.log('All is well');\n//     }\n// });\n\nconst arrayFields = ['klasifikasi_arsip']\n\nexport default class PanelArsip extends Component {\n    constructor(props) {\n        super(props);\n        var d = new Date();\n        var s = d.toISOString().split('T')[0]\n        this.state = {\n            show: false,\n            newArsip: {\n                \"hak_akses\": \"umum\",\n                \"image_URL\": \"\",\n                \"klasifikasi_arsip\": [\"Mahasiswa\", \"Pendidikan\"],\n                \"kode_arsip\": \"AK/OA.AE.04/58\",\n                \"media_URL\": \"\",\n                \"tipe_file\": \"video\",\n                \"title\": \"\",\n                \"uploaded_on\": s,\n            },\n            newField: '',\n            newDetail: [],\n            data: []\n        };\n\n        this.handleClose = this.handleClose.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleNewFieldChange = this.handleNewFieldChange.bind(this);\n        this.handleAddField = this.handleAddField.bind(this);\n        this.handleDeleteField = this.handleDeleteField.bind(this);\n        this.handleExtraFieldChange = this.handleExtraFieldChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        // this.getFileExtension = this.getFileExtension.bind(this);\n        // this.formatFileSize = this.formatFileSize.bind(this);\n        // this.changeLabel = this.changeLabel.bind(this);\n\n        // var self = this;\n        // client.search({\n        //     index: 'arsip'\n        // }) \n        // .then(function (res) {\n        //     console.log(res)\n        //     var results = res.hits.hits;\n        //     var buffer = [];\n        //     buffer = results.map(\n        //         function(content, index) {\n        //             return {id:content._id, \n        //                 nama: content._source.title, \n        //                 namafile: content._source.file_name, \n        //                 kodearsip: content._source.kode_arsip,\n        //                 deskripsi: content._source.topik,\n        //                 lokasisimpan: content._source.lokasi_penyimpanan,\n        //                 ukuranfile: content._source.ukuranfile,\n        //                 formatfile: content._source.formatfile,\n        //                 rank: content._source.hak_akses};\n        //         }\n        //     )\n        //     self.setState({data: buffer})\n        // }, function(err) {\n        //     console.log(err)\n        // })\n    }\n\n    handleShow() {\n        if (this.state.show === false) {\n            this.setState({\n                show: false,\n                nama: \"\",\n                namafile: \"\",\n                kodearsip: \"\",\n                deskripsi: \"\",\n                lokasisimpan: \"\",\n                ukuranfile: \"\",\n                formatfile: \"\",\n                rank: \"terbuka\"\n            })\n        }\n        this.setState({show: true});\n        console.log(\"show modal\");\n    }\n\n    handleClose() {\n        this.setState({show: false});\n        console.log(\"hide modal\");\n    }\n\n    handleChange(event) {\n        const target = event.target;\n        var value = target.value;\n        const name = target.name;\n\n        if (document.getElementById(\"kode_arsip\").value == null ||\n            document.getElementById(\"kode_arsip\").value == \"\" ||\n            document.getElementById(\"title\").value == null ||\n            document.getElementById(\"title\").value == \"\") {\n            document.getElementById(\"confirm-button\").disabled = true;\n        } else {\n            document.getElementById(\"confirm-button\").disabled = false;\n        }\n\n        if (arrayFields.includes(name)) {\n            value = value.split(',');\n            var x;\n            for (x in value) {\n                value[x] = value[x].trim()\n            }\n        }\n\n        var newArsip = this.state.newArsip\n        newArsip[name] = value\n        this.setState({\n            newArsip: newArsip\n        })\n    }\n\n    handleSubmit() {\n        if (document.getElementById(\"confirm-button\").disabled != true) {\n            this.setState({show: false});\n            var newArsip = this.state.newArsip\n            var newDetail = this.state.newDetail;\n            var x;\n            for (x in newDetail) {\n                newArsip[newDetail[x][0]] = newDetail[x][1]\n            }\n            client.index({\n                index: 'arsip',\n                body: newArsip\n            }, function (err, resp, status) {\n                console.log(resp);\n                window.location.reload();\n            });\n            console.log(\"submit\");\n        }\n    }\n\n    // getFileExtension(filename) {\n    //     return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\n    // }\n\n    // formatFileSize(bytes, decimalPoint) {\n    //     if (bytes == 0) return '0 Bytes';\n    //     var k = 1024,\n    //         dm = decimalPoint || 2,\n    //         sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n    //         i = Math.floor(Math.log(bytes) / Math.log(k));\n    //     return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    // }\n\n    // changeLabel() {\n    //     var name = document.getElementById('customFile');\n    //     if (name.files.item(0) != null) {\n    //         this.setState({ file_name: name.files.item(0).name });\n    //         this.setState({ ukuranfile: this.formatFileSize(name.files.item(0).size) });\n    //         this.setState({ formatfile: this.getFileExtension(name.files.item(0).name) });\n    //         document.getElementById('file_name').innerHTML = name.files.item(0).name;\n    //     } else {\n    //         this.setState({ file_name: \"\" });\n    //         this.setState({ ukuranfile: \"\" });\n    //         this.setState({ fomatfile: \"\" });\n    //         document.getElementById('file_name').innerHTML = \"Choose file\";\n    //     }\n    // }\n\n    handleExtraFieldChange(event) {\n        const target = event.target;\n        const name = target.name;\n        const value = target.value;\n        const id = target.id.split(':')[1];\n        console.log(target)\n\n        console.log(\"changing index: \" + id + \"w/ value:\" + [name, value])\n\n        var newDetail = this.state.newDetail\n        newDetail[id] = [name, value]\n        this.setState({newDetail: newDetail})\n    }\n\n    handleNewFieldChange(event) {\n        const target = event.target;\n        const value = target.value;\n\n        this.setState({newField: value})\n    }\n\n    handleAddField(event) {\n        var newDetail = this.state.newDetail\n        if (this.state.newField !== '') {\n            newDetail.push([this.state.newField, '']);\n        }\n        this.setState({newDetail: newDetail, newField: ''})\n    }\n\n    handleDeleteField(event) {\n        const target = event.target;\n        const name = target.name;\n        var newDetail = this.state.newDetail;\n        newDetail.splice(name, 1);\n        this.setState({newDetail: newDetail})\n    }\n\n    render() {\n        const data = this.state.data\n        return (\n            <div className=\"panel-arsip p-5 w-100\">\n                <Button variant=\"primary\" size=\"lg\" block id={\"add-arsip-button\"} onClick={this.handleShow}>\n                    + Tambah Arsip\n                </Button>\n                <Modal show={this.state.show} onHide={this.handleClose} size=\"lg\">\n                    <Modal.Header closeButton>\n                        <Modal.Title>Tambah Arsip</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Form>\n                            <FormGroup as={Row}>\n                                <FormLabel column sm=\"5\">Kode Arsip : <Badge pill\n                                                                             variant=\"danger\">required</Badge></FormLabel>\n                                <Col sm=\"7\">\n                                    <FormControl\n                                        name=\"kode_arsip\"\n                                        id=\"kode_arsip\"\n                                        type=\"text\"\n                                        placeholder={this.state.newArsip.kode_arsip}\n                                        onChange={this.handleChange}/>\n                                </Col>\n                            </FormGroup>\n                            <FormGroup as={Row}>\n                                <FormLabel column sm=\"5\">Judul Arsip : <Badge pill\n                                                                              variant=\"danger\">required</Badge></FormLabel>\n                                <Col sm=\"7\">\n                                    <FormControl\n                                        name=\"title\"\n                                        id=\"title\"\n                                        type=\"text\"\n                                        placeholder={this.state.newArsip.title}\n                                        onChange={this.handleChange}/>\n                                </Col>\n                            </FormGroup>\n                            <FormGroup as={Row}>\n                                <FormLabel column sm=\"5\">Hak Akses : <Badge pill\n                                                                            variant=\"danger\">required</Badge></FormLabel>\n                                <Col sm=\"7\">\n                                    <FormControl as=\"select\" name=\"hak_akses\"\n                                                 value={this.state.newArsip.hak_akses}\n                                                 onChange={this.handleChange}\n                                    >\n                                        <option value={\"umum\"}>Umum</option>\n                                        <option value={\"tinggi\"}>Tinggi</option>\n                                        <option value={\"tertinggi\"}>Tertinggi</option>\n                                    </FormControl>\n                                </Col>\n                            </FormGroup>\n                            <FormGroup as={Row}>\n                                <FormLabel column sm=\"5\">Klasifikasi : </FormLabel>\n                                <Col sm=\"7\">\n                                    <FormControl\n                                        name=\"klasifikasi_arsip\"\n                                        type=\"text\"\n                                        placeholder={this.state.newArsip.klasifikasi_arsip}\n                                        onChange={this.handleChange}/>\n                                </Col>\n                            </FormGroup>\n                            <FormGroup as={Row}>\n                                <FormLabel column sm=\"5\">Tipe Arsip : <Badge pill\n                                                                             variant=\"danger\">required</Badge></FormLabel>\n                                <Col sm=\"7\">\n                                    <FormControl as=\"select\" name=\"tipe_file\"\n                                                 value={this.state.newArsip.tipe_file}\n                                                 onChange={this.handleChange}\n                                    >\n                                        <option value={\"teks\"}>Teks</option>\n                                        <option value={\"video\"}>Video</option>\n                                        <option value={\"audio\"}>Audio</option>\n                                        <option value={\"gambar\"}>Gambar</option>\n                                        <option value={\"lainnya\"}>Lainnya</option>\n                                    </FormControl>\n                                </Col>\n                            </FormGroup>\n                            {this.state.newDetail.map(\n                                (content, index) => (\n                                    <FormGroup as={Row} className=\"mx-auto\">\n                                        <FormLabel column sm=\"5\">{content[0]} : </FormLabel>\n                                        <Col sm=\"5\">\n                                            <FormControl\n                                                id={\"no:\" + index}\n                                                name={content[0]}\n                                                type=\"text\"\n                                                value={content[1]}\n                                                onChange={this.handleExtraFieldChange}/>\n                                        </Col>\n                                        <Button variant=\"danger\" name={index} onClick={this.handleDeleteField}>\n                                            Delete\n                                        </Button>\n                                    </FormGroup>\n                                )\n                            )}\n                        </Form>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <FormGroup as={Row} className=\"mx-auto\">\n                            <Col sm=\"5\">\n                                <FormControl\n                                    id=\"newField\"\n                                    name=\"newField\"\n                                    type=\"text\"\n                                    value={this.state.newField}\n                                    onChange={this.handleNewFieldChange}/>\n                            </Col>\n                            <Button variant=\"primary\" onClick={this.handleAddField}>\n                                Add Field\n                            </Button>\n                        </FormGroup>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            Close\n                        </Button>\n                        <Button id=\"confirm-button\" variant=\"primary\" onLoad={this.handleChange} onClick={this.handleSubmit}>\n                            Confirm\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}